# VIET HERITAGE

\***\*A website for tourists\*\***

<h3> This readme tells you nothing beside some explanations (or excuses). </h3>

**Q: Why don't you use frameworks, such as React ?**

> Because I don't like üêß

**Q: Why don't you set up an API and a backend ?**

> Because my client didn't ask for it

**Q: Why your JS codes are a mess**

> Because I don't know how to achieve efficiency as same as React

**Q: Why this web renders so slow**

> Because some images and backgrounds are so large and I'm too lazy to create lazy loading for img tags and lazy versions for background images

**Q: Why this markdown is written in different syntax? **

> Because I like üòé

<section>
<h3> How this web should be developed</h3>
<ul>
<li> Code
<ul>
<li> HTML should be rendered by React
<li> Custom CSS for each page should be compiled from SASS/SCSS. General CSS should be Tailwind instead of Bootstrap because Bootstrap is hard to customize
<li> JS should be divided into modules
</ul>
<li> Content
<ul>
<li> Posts' contents should be fetched from an API and put in a module before rendering with React. For example:

```js
"client component";
import { useEffect, useState } from "react";

function header(heritageName, language) {
  const [content, setContent] = useState("");

  useEffect(() => {
    async function fetchContent() {
      try {
        const response = await fetch(
          `https://someapi.com/api-endpoint?name=${heritageName}&lang=${language}`
        );

        if (!response.ok) {
          throw new Error("Some error message");
        }
        const data = await response.json();

        setContent(data);
      } catch (error) {
        console.log(error.message);
      }
    }

    fetchData();
  }, []); //Leave the [] empty to run useEffect on load only

  return (
    <div>
      <article>{content}</article>
    </div>
  );
}

export default header;
```

This code fetch content from API and then return it to the module. Then we will loop through all the heritages' name and set their content.

<li> Forms from user should be sended via the API to a backend server. </li></ul></ul>

<h3> How the website is developed in this demo. </h3>
<ul>
<li> Code
<ul>
<li> HTML is written by hand, some of them generated by JS
<li> CSS is compiled from SCSS. However, there is no component CSS or stuff like that. Moreover, I used Bootstrap because I'm too lazy to make any customizations.
<li> JS is separated into modules obviously. But it is a mess so I'll try to explain it here:
<ul>
<li> <u>content</u>: Simulate api return values
<li> <u>helpers</u>: Some outer libraries
<li> <u>page</u>: My last effort to divided pages into modules
<li> <u>utilities</u>: Web components
<li> <u>App.js</u>: Style and content renderer
</ul>
</ul>
<li> Content
<li> Content is also rendered using JS but there is no API, so API is simulated through <u>content/content.js</u>. Also, the contents are divided into <code>lang</code> and <code>id of the elements</code> instead of the <code>contentName</code>. For instance: <ul>
<li> <b>content.js</b>

```js
const lang = `{
    "vi": {
        "nav-introduction": "gi·ªõi thi·ªáu",
        "nav-heritage": "di t√≠ch", 
        "nav-feedback": "g√≥p √Ω",
        "hero-title": "th√†nh ph·ªë h·ªì ch√≠ minh",
        "introduction-title": "th√†nh ph·ªë<br>h·ªì ch√≠ minh",
        "introduction-content": "some content"
    },
    "en": {
        "nav-introduction": "introduction",
        "nav-heritage": "heritages", 
        "nav-feedback": "feedback",
        "hero-title": "ho chi minh city",
        "introduction-title": "ho chi minh<br>city",
        "introduction-content": "some content"
    }
}`;

const content = JSON.parse(lang);

export default content;
```

<li> <b>content-distributor.js</b>

```js
import content from "../content/content.js";

class ContentDistributor {
  constructor(lang) {
    if (lang) {
      this.update(lang);
    } else {
      throw new Error('"lang" property is empty');
    }
  }

  update(lang) {
    this.content = content[lang];
    if (this.content) {
      for (const id in this.content) {
        document.getElementById(id).innerHTML = DOMPurify.sanitize(
          this.content[id]
        );
      }
    }
  }
}

export default ContentDistributor;
```
</li></ul></ul>

<h3> Conclusion </h3>
<p> Technically, I can set up a whole website. But this is a demo of the front end only. So this repo is not for official use. Therefore, if you want to recreate this website as a functional website, you can refer to the "How this website should be developed" section. </p>